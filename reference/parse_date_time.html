<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>User friendly date-time parsing functions — parse_date_time • lubridate</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme-->
<link href="../.css" rel="stylesheet">




<meta property="og:title" content="User friendly date-time parsing functions — parse_date_time" />
<meta property="og:description" content="parse_date_time() parses an input vector into POSIXct date-time
object. It differs from base::strptime() in two respects. First,
it allows specification of the order in which the formats occur without the
need to include separators and the % prefix. Such a formatting argument is
referred to as &quot;order&quot;. Second, it allows the user to specify several
format-orders to handle heterogeneous date-time character
representations.
parse_date_time2() is a fast C parser of numeric orders.
fast_strptime() is a fast C parser of numeric formats only
that accepts explicit format arguments, just like base::strptime()." />
<meta property="og:image" content="https://lubridate.tidyverse.org/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">lubridate</a>
        <div class="info hidden-xs hidden-sm">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.0</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/lubridate.html">Intro</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
        <li>
  <a href="https://github.com/tidyverse/lubridate">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>User friendly date-time parsing functions</h1>
    <small class="dont-index">Source: <a href='https://github.com/tidyverse/lubridate/blob/master/R/parse.r'><code>R/parse.r</code></a></small>
    <div class="hidden name"><code>parse_date_time.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>parse_date_time()</code> parses an input vector into POSIXct date-time
object. It differs from <code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code> in two respects. First,
it allows specification of the order in which the formats occur without the
need to include separators and the <code>%</code> prefix. Such a formatting argument is
referred to as "order". Second, it allows the user to specify several
format-orders to handle heterogeneous date-time character
representations.</p>
<p><code>parse_date_time2()</code> is a fast C parser of numeric orders.</p>
<p><code>fast_strptime()</code> is a fast C parser of numeric formats only
that accepts explicit format arguments, just like <code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>parse_date_time</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>orders</span>,
  tz <span class='op'>=</span> <span class='st'>"UTC"</span>,
  truncated <span class='op'>=</span> <span class='fl'>0</span>,
  quiet <span class='op'>=</span> <span class='cn'>FALSE</span>,
  locale <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/locales.html'>Sys.getlocale</a></span><span class='op'>(</span><span class='st'>"LC_TIME"</span><span class='op'>)</span>,
  select_formats <span class='op'>=</span> <span class='va'>.select_formats</span>,
  exact <span class='op'>=</span> <span class='cn'>FALSE</span>,
  train <span class='op'>=</span> <span class='cn'>TRUE</span>,
  drop <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>parse_date_time2</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>orders</span>,
  tz <span class='op'>=</span> <span class='st'>"UTC"</span>,
  exact <span class='op'>=</span> <span class='cn'>FALSE</span>,
  lt <span class='op'>=</span> <span class='cn'>FALSE</span>,
  cutoff_2000 <span class='op'>=</span> <span class='fl'>68L</span>
<span class='op'>)</span>

<span class='fu'>fast_strptime</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>format</span>, tz <span class='op'>=</span> <span class='st'>"UTC"</span>, lt <span class='op'>=</span> <span class='cn'>TRUE</span>, cutoff_2000 <span class='op'>=</span> <span class='fl'>68L</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a character or numeric vector of dates</p></td>
    </tr>
    <tr>
      <th>orders</th>
      <td><p>a character vector of date-time formats. Each order string is
a series of formatting characters as listed in <code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code> but
might not include the <code>"%"</code> prefix. For example, "ymd" will match all the
possible dates in year, month, day order. Formatting orders might include
arbitrary separators. These are discarded. See details for the implemented
formats. If multiple order strings are supplied, they are applied in turn
for <code>parse_date_time2()</code> and <code>fast_strptime()</code>. For <code>parse_date_time()</code>
the order of applied formats is determined by <code>select_formats</code> parameter.</p></td>
    </tr>
    <tr>
      <th>tz</th>
      <td><p>a character string that specifies the time zone with which to
parse the dates</p></td>
    </tr>
    <tr>
      <th>truncated</th>
      <td><p>integer, number of formats that can be missing. The most
common type of irregularity in date-time data is the truncation due to
rounding or unavailability of the time stamp. If the <code>truncated</code> parameter
is non-zero <code>parse_date_time()</code> also checks for truncated formats. For
example,  if the format order is "ymdHMS" and <code>truncated = 3</code>,
<code>parse_date_time()</code> will correctly parse incomplete date-times like
<code>2012-06-01 12:23</code>, <code>2012-06-01 12</code> and <code>2012-06-01</code>. <b>NOTE:</b> The
<code><a href='ymd.html'>ymd()</a></code> family of functions is based on <code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code> which currently
fails to parse <code>%Y-%m</code> formats.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>logical. If <code>TRUE</code>, progress messages are not printed, and <code>No formats found</code> error is suppressed and the function simply returns a
vector of NAs.  This mirrors the behavior of base R functions
<code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code> and <code><a href='https://rdrr.io/r/base/as.POSIXlt.html'>base::as.POSIXct()</a></code>.</p></td>
    </tr>
    <tr>
      <th>locale</th>
      <td><p>locale to be used, see <a href='https://rdrr.io/r/base/locales.html'>locales</a>. On Linux systems you
can use <code>system("locale -a")</code> to list all the installed locales.</p></td>
    </tr>
    <tr>
      <th>select_formats</th>
      <td><p>A function to select actual formats for parsing from a
set of formats which matched a training subset of <code>x</code>. It receives a named
integer vector and returns a character vector of selected formats. Names
of the input vector are formats (not orders) that matched the training
set. Numeric values are the number of dates (in the training set) that
matched the corresponding format. You should use this argument if the
default selection method fails to select the formats in the right
order. By default the formats with most formatting tokens (<code>%</code>) are
selected and <code>%Y</code> counts as 2.5 tokens (so that it has a priority over
<code>%y%m</code>). See examples.</p></td>
    </tr>
    <tr>
      <th>exact</th>
      <td><p>logical. If <code>TRUE</code>, the <code>orders</code> parameter is interpreted as an
exact <code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code> format and no training or guessing are performed
(i.e. <code>train</code>, <code>drop</code> parameters are ignored).</p></td>
    </tr>
    <tr>
      <th>train</th>
      <td><p>logical, default <code>TRUE</code>. Whether to train formats on a subset
of the input vector. The result of this is that supplied orders are sorted
according to performance on this training set, which commonly results in
increased performance. Please note that even when <code>train = FALSE</code> (and
<code>exact = FALSE</code>) guessing of the actual formats is still performed on a
pseudo-random subset of the original input vector. This might result in
<code>All formats failed to parse</code> error. See notes below.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>logical, default <code>FALSE</code>. Whether to drop formats that didn't
match on the training set. If <code>FALSE</code>, unmatched on the training set
formats are tried as a last resort at the end of the parsing
queue. Applies only when <code>train = TRUE</code>. Setting this parameter to <code>TRUE</code>
might slightly speed up parsing in situations involving many
formats. Prior to v1.7.0 this parameter was implicitly <code>TRUE</code>, which
resulted in occasional surprising behavior when rare patterns where not
present in the training set.</p></td>
    </tr>
    <tr>
      <th>lt</th>
      <td><p>logical. If <code>TRUE</code>, returned object is of class POSIXlt, and POSIXct
otherwise. For compatibility with <code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code> the default is <code>TRUE</code>
for <code>fast_strptime()</code> and <code>FALSE</code> for <code>parse_date_time2()</code>.</p></td>
    </tr>
    <tr>
      <th>cutoff_2000</th>
      <td><p>integer. For <code>y</code> format,  two-digit numbers smaller or equal
to <code>cutoff_2000</code> are parsed as though starting with <code>20</code>, otherwise parsed
as though starting with <code>19</code>. Available only for functions relying on
<code>lubridate</code>s internal parser.</p></td>
    </tr>
    <tr>
      <th>format</th>
      <td><p>a vector of formats. If multiple formats supplied they are
applied in turn till success. The formats should include all the
separators and each format letter must be prefixed with %, just as in the
format argument of <code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a vector of POSIXct date-time objects</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>When several format-orders are specified, <code>parse_date_time()</code> selects
(guesses) format-orders based on a training subset of the input
strings. After guessing the formats are ordered according to the performance
on the training set and applied recursively on the entire input vector. You
can disable training with <code>train = FALSE</code>.</p>
<p><code>parse_date_time()</code>, and all derived functions, such as <code><a href='ymd_hms.html'>ymd_hms()</a></code>,
<code><a href='ymd.html'>ymd()</a></code>, etc., will drop into <code>fast_strptime()</code> instead of
<code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code> whenever the guessed from the input data formats are all
numeric.</p>
<p>The list below contains formats recognized by <span class="pkg">lubridate</span>. For numeric
formats leading 0s are optional. As compared to <code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code>, some of
the formats are new or have been extended for efficiency reasons. These
formats are marked with "(*)" below. Fast parsers <code>parse_date_time2()</code> and
<code>fast_strptime()</code> accept only formats marked with "(!)".</p>
<dl>
<dt><code>a</code></dt><dd><p>Abbreviated weekday name in the current
locale. (Also matches full name)</p></dd>

<dt><code>A</code></dt><dd><p>Full weekday name in the current locale.  (Also matches
abbreviated name).You don't need to specify <code>a</code> and <code>A</code> formats explicitly. Wday is
automatically handled if <code>preproc_wday = TRUE</code></p></dd>

<dt><code>b</code> (!)</dt><dd><p>Abbreviated or full month name in the current locale. The C
parser currently understands only English month names.</p></dd>

<dt><code>B</code> (!)</dt><dd><p>Same as b.</p></dd>

<dt><code>d</code> (!)</dt><dd><p>Day of the month as decimal number (01--31 or 0--31)</p></dd>

<dt><code>H</code> (!)</dt><dd><p>Hours as decimal number (00--24 or 0--24).</p></dd>

<dt><code>I</code> (!)</dt><dd><p>Hours as decimal number (01--12 or 1--12).</p></dd>

<dt><code>j</code></dt><dd><p>Day of year as decimal number (001--366 or 1--366).</p></dd>

<dt><code>q</code> (!*)</dt><dd><p>Quarter (1--4). The quarter month is added to the parsed
month if <code>m</code> element is present.</p></dd>

<dt><code>m</code> (!*)</dt><dd><p>Month as decimal number (01--12 or 1--12). For
<code>parse_date_time</code> also matches abbreviated and full months names as <code>b</code>
and <code>B</code> formats. C parser understands only English month names.</p></dd>

<dt><code>M</code> (!)</dt><dd><p>Minute as decimal number (00--59 or 0--59).</p></dd>

<dt><code>p</code> (!)</dt><dd><p>AM/PM indicator in the locale. Commonly used in conjunction
with <code>I</code> and <b>not</b> with <code>H</code>.  But <span class="pkg">lubridate</span>'s C parser accepts H
format as long as hour is not greater than 12. C parser understands only
English locale AM/PM indicator.</p></dd>

<dt><code>S</code> (!)</dt><dd><p>Second as decimal number (00--61 or 0--61), allowing for up
to two leap-seconds (but POSIX-compliant implementations will ignore leap
seconds).</p></dd>

<dt><code>OS</code></dt><dd><p>Fractional second.</p></dd>

<dt><code>U</code></dt><dd><p>Week of the year as decimal number (00--53 or 0--53) using
Sunday as the first day 1 of the week (and typically with the first Sunday
of the year as day 1 of week 1).  The US convention.</p></dd>

<dt><code>w</code></dt><dd><p>Weekday as decimal number (0--6, Sunday is 0).</p></dd>

<dt><code>W</code></dt><dd><p>Week of the year as decimal number (00--53 or 0--53) using
Monday as the first day of week (and typically with the first Monday of the
year as day 1 of week 1).  The UK convention.</p></dd>

<dt><code>y</code> (!*)</dt><dd><p>Year without century (00--99 or 0--99).  In
<code>parse_date_time()</code> also matches year with century (Y format).</p></dd>

<dt><code>Y</code> (!)</dt><dd><p>Year with century.</p></dd>

<dt><code>z</code> (!*)</dt><dd><p>ISO8601 signed offset in hours and minutes from UTC. For
example <code>-0800</code>, <code>-08:00</code> or <code>-08</code>, all represent 8 hours behind UTC. This
format also matches the Z (Zulu) UTC indicator. Because <code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code>
doesn't fully support ISO8601 this format is implemented as an union of 4
formats: Ou (Z), Oz (-0800), OO (-08:00) and Oo (-08). You can use these
formats as any other but it is rarely necessary. <code>parse_date_time2()</code> and
<code>fast_strptime()</code> support all of these formats.</p></dd>

<dt><code>Om</code> (!*)</dt><dd><p>Matches numeric month and English alphabetic months
(Both, long and abbreviated forms).</p></dd>

<dt><code>Op</code> (!*)</dt><dd><p>Matches AM/PM English indicator.</p></dd>

<dt><code>r</code> (*)</dt><dd><p>Matches <code>Ip</code> and <code>H</code> orders.</p></dd>

<dt><code>R</code> (*)</dt><dd><p>Matches <code>HM</code> and<code>IMp</code> orders.</p></dd>

<dt><code>T</code> (*)</dt><dd><p>Matches <code>IMSp</code>, <code>HMS</code>, and <code>HMOS</code> orders.</p></dd>

</dl>

    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p><code>parse_date_time()</code> (and the derivatives <code><a href='ymd.html'>ymd()</a></code>, <code><a href='ymd_hms.html'>ymd_hms()</a></code>, etc.)
relies on a sparse guesser that takes at most 501 elements from the
supplied character vector in order to identify appropriate formats from
the supplied orders. If you get the error <code>All formats failed to parse</code>
and you are confident that your vector contains valid dates, you should
either set <code>exact</code> argument to <code>TRUE</code> or use functions that don't perform
format guessing (<code>fast_strptime()</code>, <code>parse_date_time2()</code> or
<code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code>).</p>
<p>For performance reasons, when timezone is not UTC,
<code>parse_date_time2()</code> and <code>fast_strptime()</code> perform no validity checks for
daylight savings time. Thus, if your input string contains an invalid date
time which falls into DST gap and <code>lt = TRUE</code> you will get an <code>POSIXlt</code>
object with a non-existent time. If <code>lt = FALSE</code> your time instant will be
adjusted to a valid time by adding an hour. See examples. If you want to
get NA for invalid date-times use <code><a href='fit_to_timeline.html'>fit_to_timeline()</a></code> explicitly.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/r/base/strptime.html'>base::strptime()</a></code>, <code><a href='ymd.html'>ymd()</a></code>, <code><a href='ymd_hms.html'>ymd_hms()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'></span>
<span class='r-in'><span class='co'>## ** orders are much easier to write **</span></span>
<span class='r-in'><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"09-01-01"</span>, <span class='st'>"09-01-02"</span>, <span class='st'>"09-01-03"</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"ymd"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2009-01-01 UTC" "2009-01-02 UTC" "2009-01-03 UTC"</span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"y m d"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2009-01-01 UTC" "2009-01-02 UTC" "2009-01-03 UTC"</span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"%y%m%d"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2009-01-01 UTC" "2009-01-02 UTC" "2009-01-03 UTC"</span>
<span class='r-in'><span class='co'>#  "2009-01-01 UTC" "2009-01-02 UTC" "2009-01-03 UTC"</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ** heterogeneous date-times **</span></span>
<span class='r-in'><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"09-01-01"</span>, <span class='st'>"090102"</span>, <span class='st'>"09-01 03"</span>, <span class='st'>"09-01-03 12:02"</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='va'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"ymd"</span>, <span class='st'>"ymd HM"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2009-01-01 00:00:00 UTC" "2009-01-02 00:00:00 UTC"</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [3] "2009-01-03 00:00:00 UTC" "2009-01-03 12:02:00 UTC"</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ** different ymd orders **</span></span>
<span class='r-in'><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2009-01-01"</span>, <span class='st'>"02022010"</span>, <span class='st'>"02-02-2010"</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='va'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"dmY"</span>, <span class='st'>"ymd"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2009-01-01 UTC" "2010-02-02 UTC" "2010-02-02 UTC"</span>
<span class='r-in'><span class='co'>##  "2009-01-01 UTC" "2010-02-02 UTC" "2010-02-02 UTC"</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ** truncated time-dates **</span></span>
<span class='r-in'><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2011-12-31 12:59:59"</span>, <span class='st'>"2010-01-01 12:11"</span>, <span class='st'>"2010-01-01 12"</span>, <span class='st'>"2010-01-01"</span><span class='op'>)</span></span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"Ymd HMS"</span>, truncated <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2011-12-31 12:59:59 UTC" "2010-01-01 12:11:00 UTC"</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [3] "2010-01-01 12:00:00 UTC" "2010-01-01 00:00:00 UTC"</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ** specifying exact formats and avoiding training and guessing **</span></span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='va'>x</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"%m-%d-%y"</span>, <span class='st'>"%m%d%y"</span>, <span class='st'>"%m-%d-%y %H:%M"</span><span class='op'>)</span>, exact <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-wrn co'><span class='r-pr'>#&gt;</span> <span class='warning'>Warning: </span> 4 failed to parse.</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] NA NA NA NA</span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'12/17/1996 04:00:00'</span>,<span class='st'>'4/18/1950 0130'</span><span class='op'>)</span>,</span>
<span class='r-in'>                <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'%m/%d/%Y %I:%M:%S'</span>,<span class='st'>'%m/%d/%Y %H%M'</span><span class='op'>)</span>, exact <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "1996-12-17 04:00:00 UTC" "1950-04-18 01:30:00 UTC"</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ** quarters and partial dates **</span></span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2016.2"</span>, <span class='st'>"2016-04"</span><span class='op'>)</span>, orders <span class='op'>=</span> <span class='st'>"Yq"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2016-04-01 UTC" "2016-10-01 UTC"</span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2016"</span>, <span class='st'>"2016-04"</span><span class='op'>)</span>, orders <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Y"</span>, <span class='st'>"Ym"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2016-01-01 UTC" "2016-04-01 UTC"</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ** fast parsing **</span></span>
<span class='r-in'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span></span>
<span class='r-in'>  <span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span>digits.secs <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span></span>
<span class='r-in'>  <span class='co'>## random times between 1400 and 3000</span></span>
<span class='r-in'>  <span class='va'>tt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/base-internal.html'>.POSIXct</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fl'>1000</span>, <span class='op'>-</span><span class='fl'>17987443200</span>, <span class='fl'>32503680000</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'>  <span class='va'>tt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep.int</a></span><span class='op'>(</span><span class='va'>tt</span>, <span class='fl'>1000</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'>  <span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span><span class='op'>(</span><span class='va'>out</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='op'>(</span><span class='va'>tt</span>, tz <span class='op'>=</span> <span class='st'>"UTC"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'>  <span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span><span class='op'>(</span><span class='va'>out1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='ymd_hms.html'>ymd_hms</a></span><span class='op'>(</span><span class='va'>tt</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># constant overhead on long vectors</span></span>
<span class='r-in'>  <span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span><span class='op'>(</span><span class='va'>out2</span> <span class='op'>&lt;-</span> <span class='fu'>parse_date_time2</span><span class='op'>(</span><span class='va'>tt</span>, <span class='st'>"YmdHMOS"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'>  <span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span><span class='op'>(</span><span class='va'>out3</span> <span class='op'>&lt;-</span> <span class='fu'>fast_strptime</span><span class='op'>(</span><span class='va'>tt</span>, <span class='st'>"%Y-%m-%d %H:%M:%OS"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'>  <span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span><span class='op'>(</span><span class='va'>out</span>, <span class='va'>out1</span><span class='op'>)</span></span>
<span class='r-in'>  <span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span><span class='op'>(</span><span class='va'>out</span>, <span class='va'>out2</span><span class='op'>)</span></span>
<span class='r-in'>  <span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span><span class='op'>(</span><span class='va'>out</span>, <span class='va'>out3</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>}</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ** how to use `select_formats` argument **</span></span>
<span class='r-in'><span class='co'>## By default %Y has precedence:</span></span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"27-09-13"</span>, <span class='st'>"27-09-2013"</span><span class='op'>)</span>, <span class='st'>"dmy"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2013-09-27 UTC" "2013-09-27 UTC"</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## to give priority to %y format, define your own select_format function:</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='va'>my_select</span> <span class='op'>&lt;-</span>   <span class='kw'>function</span><span class='op'>(</span><span class='va'>trained</span>, <span class='va'>drop</span><span class='op'>=</span><span class='cn'>FALSE</span>, <span class='va'>...</span><span class='op'>)</span><span class='op'>{</span></span>
<span class='r-in'>   <span class='va'>n_fmts</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/nchar.html'>nchar</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>gsub</a></span><span class='op'>(</span><span class='st'>"[^%]"</span>, <span class='st'>""</span>, <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>trained</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"%y"</span>, <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>trained</span><span class='op'>)</span><span class='op'>)</span><span class='op'>*</span><span class='fl'>1.5</span></span>
<span class='r-in'>   <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>trained</span><span class='op'>[</span> <span class='fu'><a href='https://rdrr.io/r/base/which.min.html'>which.max</a></span><span class='op'>(</span><span class='va'>n_fmts</span><span class='op'>)</span> <span class='op'>]</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>}</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"27-09-13"</span>, <span class='st'>"27-09-2013"</span><span class='op'>)</span>, <span class='st'>"dmy"</span>, select_formats <span class='op'>=</span> <span class='va'>my_select</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2013-09-27 UTC" "2013-09-27 UTC"</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'>## ** invalid times with "fast" parsing **</span></span>
<span class='r-in'><span class='fu'>parse_date_time</span><span class='op'>(</span><span class='st'>"2010-03-14 02:05:06"</span>,  <span class='st'>"YmdHMS"</span>, tz <span class='op'>=</span> <span class='st'>"America/New_York"</span><span class='op'>)</span></span>
<span class='r-wrn co'><span class='r-pr'>#&gt;</span> <span class='warning'>Warning: </span> 1 failed to parse.</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] NA</span>
<span class='r-in'><span class='fu'>parse_date_time2</span><span class='op'>(</span><span class='st'>"2010-03-14 02:05:06"</span>,  <span class='st'>"YmdHMS"</span>, tz <span class='op'>=</span> <span class='st'>"America/New_York"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2010-03-14 03:05:06 EDT"</span>
<span class='r-in'><span class='fu'>parse_date_time2</span><span class='op'>(</span><span class='st'>"2010-03-14 02:05:06"</span>,  <span class='st'>"YmdHMS"</span>, tz <span class='op'>=</span> <span class='st'>"America/New_York"</span>, lt <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "2010-03-14 02:05:06 America/New_York"</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>lubridate is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by Vitalie Spinu, Garrett Grolemund, <a href='http://hadley.nz'>Hadley Wickham</a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
   </div>

  


  </body>
</html>


